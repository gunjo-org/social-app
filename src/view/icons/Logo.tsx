import React from 'react'
import {StyleSheet, type TextProps} from 'react-native'
import Svg, {
  Defs,
  LinearGradient,
  Path,
  type PathProps,
  Stop,
  type SvgProps,
} from 'react-native-svg'

import {colors} from '#/lib/styles'

const ratio = 512 / 512

type Props = {
  fill?: PathProps['fill']
  style?: TextProps['style']
} & Omit<SvgProps, 'style'>

export const Logo = React.forwardRef(function LogoImpl(props: Props, ref) {
  const {fill, ...rest} = props
  const gradient = fill === 'sky'
  const styles = StyleSheet.flatten(props.style)
  const _fill = gradient ? 'url(#sky)' : fill || styles?.color || colors.blue3
  // @ts-ignore it's fiiiiine
  const size = parseInt(rest.width || 32)

  // const isKawaii = useKawaiiMode()

  // if (isKawaii) {
  //   return (
  //     <Image
  //       source={
  //         size > 100
  //           ? require('../../../assets/kawaii.png')
  //           : require('../../../assets/kawaii_smol.png')
  //       }
  //       accessibilityLabel="Bluesky"
  //       accessibilityHint=""
  //       accessibilityIgnoresInvertColors
  //       style={[{height: size, aspectRatio: 1.4}]}
  //     />
  //   )
  // }

  return (
    <Svg
      fill="none"
      // @ts-ignore it's fiiiiine
      ref={ref}
      viewBox="0 0 512 512"
      {...rest}
      style={[{width: size, height: size * ratio}, styles]}>
      {gradient && (
        <Defs>
          <LinearGradient id="sky" x1="0" y1="0" x2="0" y2="1">
            <Stop offset="0" stopColor="#4166f5" stopOpacity="1" />
            <Stop offset="1" stopColor="#4166f5" stopOpacity="1" />
          </LinearGradient>
        </Defs>
      )}

      <Path
        fill="#4166f5"
//      fill={_fill}
        d="M 252.87,431.52
           C 252.87,431.52 226.13,326.06 226.13,326.06
             225.14,322.33 221.41,320.05 217.63,320.96
             217.63,320.96 106.07,346.84 106.07,346.84
             102.54,347.82 99.99,343.44 102.67,340.89
             102.67,340.89 180.68,261.04 180.68,261.04
             183.36,258.30 183.36,253.85 180.68,251.12
             180.68,251.12 102.61,171.46 102.61,171.46
             99.92,168.92 102.47,164.53 106.00,165.51
             106.00,165.51 214.22,193.09 214.22,193.09
             217.95,194.00 221.74,191.84 222.79,188.13
             222.79,188.13 252.87,80.64 252.87,80.64
             253.78,77.05 258.88,77.05 259.73,80.64
             259.73,80.64 286.09,185.83 286.09,185.83
             287.07,189.56 290.79,191.84 294.52,191.00
             294.52,191.00 406.67,165.51 406.67,165.51
             410.20,164.53 412.75,168.92 410.06,171.46
             410.06,171.46 331.99,251.12 331.99,251.12
             329.31,253.85 329.31,258.30 331.99,261.04
             331.99,261.04 410.00,340.89 410.00,340.89
             412.68,343.44 410.13,347.82 406.60,346.84
             406.60,346.84 298.45,319.07 298.45,319.07
             294.72,318.15 290.93,320.31 289.88,324.03
             289.88,324.03 259.73,431.52 259.73,431.52
             258.88,435.11 253.78,435.11 252.87,431.52
           M 261.83,446.94
           C 261.83,446.94 378.87,478.30 378.87,478.30
             382.67,479.28 386.53,477.06 387.57,473.27
             387.57,473.27 418.89,356.31 418.89,356.31
             419.87,352.71 421.77,349.45 424.38,346.84
             424.38,346.84 509.52,261.77 509.52,261.77
             512.27,259.02 512.33,254.58 509.59,251.76
             509.59,251.76 424.77,165.26 424.77,165.26
             422.23,162.64 420.40,159.50 419.41,155.98
             419.41,155.98 387.57,38.89 387.57,38.89
             386.53,35.09 382.67,32.88 378.87,33.86
             378.87,33.86 261.83,65.22 261.83,65.22
             258.23,66.20 254.44,66.20 250.84,65.22
             250.84,65.22 133.73,33.86 133.73,33.86
             130.00,32.88 126.14,35.09 125.10,38.89
             125.10,38.89 93.65,156.04 93.65,156.04
             92.73,159.64 90.83,162.96 88.22,165.58
             88.22,165.58 3.15,250.59 3.15,250.59
             0.40,253.33 0.33,257.77 3.08,260.52
             3.08,260.52 87.89,346.97 87.89,346.97
             90.44,349.58 92.27,352.78 93.18,356.24
             93.18,356.24 125.10,473.27 125.10,473.27
             126.14,477.06 130.00,479.28 133.73,478.30
             133.73,478.30 250.84,446.94 250.84,446.94
             254.44,445.96 258.23,445.96 261.83,446.94"
      />
    </Svg>
  )
})
